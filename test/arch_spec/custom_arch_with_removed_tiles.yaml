architecture:
  name: "NeuraMultiCgra"
  version: "1.0"

multi_cgra_defaults:
  base_topology: "mesh"
  rows: 1
  columns: 1

cgra_defaults:
  rows: 4
  columns: 4
  ctrl_mem_items: 20
  base_topology: "mesh"

tile_defaults:
  num_registers: 32
  fu_types: ["add", "mul", "div", "fadd", "fmul", "fdiv", "logic", "cmp", "sel", "type_conv", "vfmul", "fadd_fadd", "fmul_fadd", "grant", "loop_control", "phi", "constant", "mem", "return", "mem_indexed", "alloca", "shift"]

link_defaults:
  latency: 1
  bandwidth: 32

link_overrides:

# Removes tiles that are actually used by the FIR kernel in the default mapping.
# This forces the mapper to find alternative placements.
tile_overrides:
  # Removes tile(1,1) which is used in the default mapping.
  - cgra_x: 0
    cgra_y: 0
    tile_x: 1
    tile_y: 1
    existence: false

  # Removes tile(0,1) which is used in the default mapping.
  - cgra_x: 0
    cgra_y: 0
    tile_x: 0
    tile_y: 1
    existence: false

extensions:
  crossbar: false

simulator:
  execution_model: "serial"

  logging:
    enabled: true
    file: "output.log"

  driver:
    name: "Driver"
    frequency: "1GHz"

  device:
    name: "Device"
    frequency: "1GHz"
    bind_to_architecture: true
